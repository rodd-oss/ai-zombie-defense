# User Story: Multiplayer Map Gameplay

**ID:** US003  
**Priority:** High  
**Estimate:** Extra Large  
**Epic:** Core Gameplay

## Story

As a player, I want to join a server via a server browser and team up with up to 32 players to defend points of interest against waves of enemies on a map, so that we can work together to survive and earn rewards.

## Acceptance Criteria

- [ ] Up to 32 players can join a map server together via server browser
- [ ] Each map consists of 3 points of interest (POIs), with 3 waves per POI (9 waves total)
- [ ] Maps have a preparation phase before each wave for players to set up defenses
- [ ] Players share objectives (defend the POI, survive waves)
- [ ] Downed players can be revived by teammates within a time limit
- [ ] Players purchase weapons, ammo, and buildings using scrap, and skill upgrades using skill points earned during the map
- [ ] Purchased weapons, buildings, and skill upgrades are lost between maps (only cosmetics and progression unlocks persist)
- [ ] Wave progression is synchronized for all players in the map
- [ ] Map ends when all waves are completed, all players are dead, or if any POI is destroyed
- [ ] Players receive rewards (scrap, data, XP) based on performance and waves survived

## Notes

- Revive mechanic should encourage teamwork but not be trivial (e.g., revive takes time, leaves reviver vulnerable)
- Wave difficulty should scale with number of players
- Need clear UI indicators for objectives, wave status, and teammate status
- Players connect via server browser (no matchmaking)
- Maps support up to 32 players per server

## Tasks

- [ ] Implement server browser and server connection system
- [ ] Design wave spawning and POI defense mechanics
- [ ] Create revive system with animations and UI
- [ ] Implement inâ€‘map economy (scrap earning, shop)
- [ ] Build wave progression and reward calculation logic
